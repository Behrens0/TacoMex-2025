<ion-content class="login-page">
  <div class="center-wrapper">
    <div class="login-container">
      <img src="assets/TacoMex.png" alt="Logo" class="login-logo" />

      <h2 class="login-subtitle">¡INICIA SESIÓN!</h2>

      <form [formGroup]="loginForm" (ngSubmit)="ingresar()">
        <ion-item>
          <ion-icon slot="start" name="mail-outline"></ion-icon>
          <ion-label position="floating">Correo electrónico</ion-label>
          <ion-input type="email" formControlName="correo"></ion-input>
        </ion-item>
        <div class="field-error" *ngIf="correoError">{{ correoError }}</div>

        <ion-item>
          <ion-icon slot="start" name="lock-closed-outline"></ion-icon>
          <ion-label position="floating">Contraseña</ion-label>
          <ion-input [type]="showPassword ? 'text' : 'password'" formControlName="contrasenia"></ion-input>
          <ion-button fill="clear" slot="end" size="small" (click)="showPassword = !showPassword" tabindex="-1">
            <ion-icon [name]="showPassword ? 'eye-off' : 'eye'"></ion-icon>
          </ion-button>
        </ion-item>
        <div class="field-error" *ngIf="contraseniaError">{{ contraseniaError }}</div>

        <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>

        <ion-button expand="block" type="submit" [disabled]="loginForm.invalid">
          INGRESAR
        </ion-button>

        <div class="quick-access-container">
          <h3 class="quick-access-title">ACCESOS RÁPIDOS</h3>
          <div class="quick-access">

            <ion-button shape="round" (click)="accesoRapido('supervisor')">
              <ion-icon name="eye" slot="start"></ion-icon>
              Supervisor
            </ion-button>

            <ion-button shape="round" (click)="accesoRapido('dueno')">
              <ion-icon name="person" slot="start"></ion-icon>
              Dueño
            </ion-button>

            <ion-button id="empleados-trigger" shape="round">
              <ion-icon name="people" slot="start"></ion-icon>
              Empleados
              <ion-icon name="chevron-up-outline" slot="end"></ion-icon>
            </ion-button>
            <ion-popover trigger="empleados-trigger" triggerAction="click" showBackdrop="false">
              <ng-template>
                <ion-list>
                  <ion-item button (click)="accesoRapido('maitre')">Maître</ion-item>
                  <ion-item button (click)="accesoRapido('mozo')">Mozo</ion-item>
                  <ion-item button (click)="accesoRapido('cocinero')">Cocinero</ion-item>
                  <ion-item button (click)="accesoRapido('bartender')">Bartender</ion-item>
                </ion-list>
              </ng-template>
            </ion-popover>

            <ion-button shape="round" (click)="accesoRapido('cliente')">
              <ion-icon name="person" slot="start"></ion-icon>
              Cliente
            </ion-button>
          </div>
        </div>

        <div class="register-link">
          ¿No tenés cuenta? <a (click)="goToRegister()">Registrate</a>
        </div>
      </form>
    </div>
  </div>
</ion-content>
